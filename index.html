<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Aventura para Esteban ğŸ¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ğŸ–¼ï¸ PORTADA (primera pantalla) -->
  <section id="coverScreen" class="cover-screen">
    <div class="cover-wrap">
      <img src="Designer (3).png" alt="Aventura para Esteban - portada" class="cover-art" />
      <button class="btn-main cover-start" id="btnCoverStart" onclick="goToSelect()">
        Iniciar
      </button>
    </div>
  </section>

  <!-- ğŸµ MÃºsica y SFX -->
  <audio id="bgMusic" src="musica.mp3" preload="auto" loop></audio>
  <audio id="sfxJump"  src="jump.wav"  preload="auto"></audio>
  <audio id="sfxMount" src="mount.wav" preload="auto"></audio>
  <audio id="sfxLose"  src="lose.wav"  preload="auto"></audio>

  <!-- ğŸ§© SelecciÃ³n de personaje -->
  <section id="selectScreen" class="screen hidden">
    <div class="select-wrap">
      <h1 class="select-title">Elige a Esteban</h1>

      <div class="choices-container">
        <button class="char-card" onclick="chooseCharacter('elegante')">
          <div class="preview">
            <canvas id="previewElegante" width="128" height="128" aria-hidden="true"></canvas>
          </div>
          <p>Elegante</p>
        </button>

        <button class="char-card" onclick="chooseCharacter('casual')">
          <div class="preview">
            <canvas id="previewCasual" width="128" height="128" aria-hidden="true"></canvas>
          </div>
          <p>Casual</p>
        </button>
      </div>

      <p class="select-note">
        Usa <b>â† â†’</b> o <b>A D</b> para moverte, <b>Espacio</b> para saltar.
      </p>
    </div>
  </section>

  <!-- ğŸ”’ Pantalla con contraseÃ±a -->
  <section id="lockScreen" class="screen hidden">
    <div class="glass-box">
      <p>Solo una persona en el mundo deberÃ­a estar aquÃ­</p>
      <input id="password" type="text" placeholder="dd/mm/aaaa" />
      <button class="btn-main" onclick="checkPassword()">Entrar</button>
    </div>
  </section>

  <!-- ğŸ’Œ Bienvenida -->
  <section id="startScreen" class="screen hidden">
    <div id="startParticles" aria-hidden="true"></div>
    <div class="welcome-box">
      <h2>Â¡Hola, amor :3!</h2>
      <p>Â¿Listo para comenzar?</p>
      <button class="btn-main" id="btnStart" onclick="startGame()">â¬‡ Iniciar Juego</button>
    </div>
  </section>

  <!-- ğŸ•¹ï¸ Juego -->
  <canvas id="gameCanvas" class="hidden"></canvas>

  <!-- ğŸ§­ HUD -->
  <div id="hud" class="hidden">
    <div id="rideHint" class="ride-hint hidden">AcÃ©rcate y presiona <b>E</b> para subirte ğŸ¢</div>
    <div class="hud-audio" aria-label="Control de audio">
      <button id="btnMute" class="btn-audio" aria-label="Silenciar/activar">ğŸ”Š</button>
      <input id="volRange" class="vol-range" type="range" min="0" max="1" step="0.01" value="0.35" aria-label="Volumen" />
      <button id="btnReset" class="btn-audio" title="Reiniciar">â†»</button>
    </div>
  </div>

  <!-- ğŸ’¬ Toasts -->
  <div id="praiseContainer" aria-hidden="true"></div>

  <!-- ğŸ’¬ Mini-poema intermedio -->
  <section id="miniPoemModal" class="overlay hidden" aria-modal="true" role="dialog">
    <div class="overlay-card">
      <p class="poem-sm">â€œcada paso que das, me acerca mÃ¡s a tu sonrisaâ€</p>
      <button class="btn-main" id="btnContinue" onclick="onContinue()">Seguir</button>
    </div>
  </section>

  <!-- ğŸ’” Game Over -->
  <section id="gameOver" class="overlay hidden" aria-modal="true" role="dialog">
    <div class="overlay-card gameover-card">
      <h2 class="gameover-title">GAME OVER</h2>
      <p class="gameover-sub">intÃ©ntalo de nuevo, cariÃ±o</p>
      <div id="brokenHeartsContainer"></div>
      <div class="go-actions">
        <button class="btn-main" id="btnRetry">Volver a empezar</button>
      </div>
    </div>
  </section>

  <!-- ğŸ“œ Poema final -->
  <section id="poemScreen" class="screen hidden">
    <div id="heartsContainer"></div>
    <div class="poem-card">
      <p class="poem">
        No importa cuÃ¡ntos saltos,<br />
        cuÃ¡ntos intentos o caÃ­das,<br />
        siempre llegas a mÃ­.<br /><br />
        Te espero en cada atardecer,<br />
        incluso cuando el mundo<br />
        se siente lejos.<br /><br />
        <span class="signature">â€” Te amo, Emely</span>
      </p>
    </div>
  </section>

  <!-- âœ… Script -->
  <script src="game.js" defer></script>
</body>
</html>